/*! formularios 2023-06-21 */
const getCookie=t=>{let l="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(l=e.split("=")[1])}),l},setCookie=(e,t,l)=>{let a="";var i;l&&((i=new Date).setTime(i.getTime()+24*l*60*60*1e3),a="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+a+"; path=/"},deleteCookie=()=>{document.cookie="filtro=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},sortTableByColumn=(document.querySelectorAll(".sortable th").forEach(a=>{a.addEventListener("click",()=>{var e=a.parentElement.parentElement.parentElement,t=Array.prototype.indexOf.call(a.parentElement.children,a),l=a.classList.contains("th-sort-asc");sortTableByColumn(e,t,!l)})}),(e,l,t=!0)=>{const a=t?1:-1;var i,s=e.tBodies[0];for(i of Array.from(s.querySelectorAll("tr")).sort((e,t)=>{e=e.cells[l].textContent;return t.cells[l].textContent<e?a:-1*a}))s.appendChild(i);e.querySelectorAll("th").forEach(e=>e.classList.remove("th-sort-asc","th-sort-desc")),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-asc",t),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-desc",!t)}),buildTable=e=>{const a=document.getElementById("table-body");a.innerHTML="",e.map(e=>{var t=document.createElement("tr");let l=document.createElement("td");l.classList.add("w-4"),l.innerHTML=`<div class="align-items-center py-1">
      <span class="avatar avatar-rounded bg-green-lt">
        <h6>OK</h6>
      </span>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-6"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.FECCAR.slice(0,10).split("-").reverse().join("/")}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.DESCAR}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.FICCAR}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.REFCAR}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-6"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.NUMREG}</div>
      </div>
    </div>`,t.appendChild(l),a.appendChild(t)}),createPages()},createPages=()=>{let e="<ul>";hasPrevs?e+="<li class='page-item previous no'><a href='/admin/cargas?cursor="+JSON.stringify(cursor)+"&part="+document.getElementById("buscarCargaBox").value+"&dir=prev' class='nav-link'>&#9664 Anterior</a>":e+="<li><a href='#' class='nav-link disabled'>&#9664 Anterior</a>",hasNexts?e+="<li class='page-item next no'><a href='/admin/cargas?cursor="+JSON.stringify(cursor)+"&part="+document.getElementById("buscarCargaBox").value+"&dir=next' class='nav-link'>Siguiente &#9654</a>":e+="<li><a href='#' class='nav-link disabled'>Siguiente &#9654</a>",e+="</ul>",document.getElementById("pagination-wrapper").innerHTML=e},elemBuscar=document.getElementById("buscarCargaBox"),elemNew=(elemBuscar.onchange=e=>{setCookie("filtro",e.target.value,.5)},elemBuscar.value=getCookie("filtro"),document.getElementById("new"));elemNew.setAttribute("href","/admin/cargas/add?part="+getCookie("filtro")),buildTable(orgList);