/*! formularios 2023-06-21 */
const getCookie=t=>{let l="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(l=e.split("=")[1])}),l},setCookie=(e,t,l)=>{let d="";var i;l&&((i=new Date).setTime(i.getTime()+24*l*60*60*1e3),d="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+d+"; path=/"},deleteCookie=e=>{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},sortTableByColumn=(document.querySelectorAll(".sortable th").forEach(d=>{d.addEventListener("click",()=>{var e=d.parentElement.parentElement.parentElement,t=Array.prototype.indexOf.call(d.parentElement.children,d),l=d.classList.contains("th-sort-asc");sortTableByColumn(e,t,!l)})}),(e,l,t=!0)=>{const d=t?1:-1;var i,n=e.tBodies[0];for(i of Array.from(n.querySelectorAll("tr")).sort((e,t)=>{e=e.cells[l].textContent;return t.cells[l].textContent<e?d:-1*d}))n.appendChild(i);e.querySelectorAll("th").forEach(e=>e.classList.remove("th-sort-asc","th-sort-desc")),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-asc",t),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-desc",!t)}),buildTable=e=>{const d=document.getElementById("table-body");d.innerHTML="",e.map(e=>{var t=document.createElement("tr");let l=document.createElement("td");l.classList.add("w-4"),l.innerHTML='<input class="form-check-input m-0 align-middle" type="checkbox" aria-label="Select invoice">',t.appendChild(l),(l=document.createElement("td")).classList.add("w-8"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.DESOFI}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-5"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.EJEFOR}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-8"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.NIFCON}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.NOMCON}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-10"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${30<e.DESTIP.length?e.DESTIP.slice(0,30)+"...":e.DESTIP}</div>
      </div>
    </div>`,t.appendChild(l),l=document.createElement("td"),null!==e.OBSFRA&&(l.innerHTML=`<div class="d-flex py-1 align-items-center">
        <div class="flex-fill">
          <div class="font-weight-medium">${30<e.OBSFOR.length?e.OBSFOR.slice(0,30)+"...":e.OBSFOR}</div>
        </div>
      </div>`),t.appendChild(l),(l=document.createElement("td")).classList.add("w-0"),l.style.display="none",l.value=e.IDFORM,t.appendChild(l),d.appendChild(t)})},addFraudes=()=>{let t=[];document.querySelectorAll("input[type=checkbox]").forEach(e=>{e.checked&&t.push(e.parentNode.parentNode.cells[7].value)}),document.getElementById("arrfra").value=JSON.stringify(t)},elemAdd=document.getElementById("add"),elemVol=(elemAdd.setAttribute("action","/admin/formularios/ades/desasignar?part="+getCookie("filtra")),document.getElementById("vol"));elemVol.setAttribute("href","/admin/formularios/ades?part="+getCookie("filtra")),buildTable(orgList);