/*! formularios 2023-06-22 */
const getCookie=t=>{let l="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(l=e.split("=")[1])}),l},setCookie=(e,t,l)=>{let i="";var d;l&&((d=new Date).setTime(d.getTime()+24*l*60*60*1e3),i="; expires="+d.toUTCString()),document.cookie=e+"="+(t||"")+i+"; path=/"},deleteCookie=e=>{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},sortTableByColumn=(document.querySelectorAll(".sortable th").forEach(i=>{i.addEventListener("click",()=>{var e=i.parentElement.parentElement.parentElement,t=Array.prototype.indexOf.call(i.parentElement.children,i),l=i.classList.contains("th-sort-asc");sortTableByColumn(e,t,!l)})}),(e,l,t=!0)=>{const i=t?1:-1;var d,a=e.tBodies[0];for(d of Array.from(a.querySelectorAll("tr")).sort((e,t)=>{e=e.cells[l].textContent;return t.cells[l].textContent<e?i:-1*i}))a.appendChild(d);e.querySelectorAll("th").forEach(e=>e.classList.remove("th-sort-asc","th-sort-desc")),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-asc",t),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-desc",!t)}),buildTable=e=>{const i=document.getElementById("table-body");i.innerHTML="",e.map(e=>{var t=document.createElement("tr");let l=document.createElement("td");l.classList.add("w-4"),l.innerHTML='<input class="form-check-input m-0 align-middle" type="checkbox" aria-label="Select invoice">',t.appendChild(l),(l=document.createElement("td")).classList.add("w-8"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.DESOFI}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-5"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.EJEFOR}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-8"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.NIFCON}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.NOMCON}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-10"),l.innerHTML=`<div class="d-flex py-1 align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${30<e.DESTIP.length?e.DESTIP.slice(0,30)+"...":e.DESTIP}</div>
      </div>
    </div>`,t.appendChild(l),l=document.createElement("td"),null!==e.OBSFOR&&(l.innerHTML=`<div class="d-flex py-1 align-items-center">
        <div class="flex-fill">
          <div class="font-weight-medium">${e.OBSFOR}</div>
        </div>
      </div>`),t.appendChild(l),(l=document.createElement("td")).classList.add("w-0"),l.style.display="none",l.value=e.IDFORM,t.appendChild(l),i.appendChild(t)})},addFormularios=()=>{let t=[];document.querySelectorAll("input[type=checkbox]").forEach(e=>{e.checked&&t.push(e.parentNode.parentNode.cells[7].value)}),document.getElementById("arrfor").value=JSON.stringify(t)},elemBuscar=document.getElementById("buscarFormBox"),elemAdd=(elemBuscar.onchange=e=>{setCookie("filtrb",e.target.value,.5)},elemBuscar.value=getCookie("filtrb"),document.getElementById("add")),elemVol=(elemAdd.setAttribute("action","/admin/formularios/ades/desasignar?part="+getCookie("filtra")),document.getElementById("vol"));elemVol.setAttribute("href","/admin/formularios/ades?part="+getCookie("filtra")),buildTable(orgList);